{"is_source_file": true, "format": "JavaScript", "description": "This file defines a WebSocketClient class that wraps native WebSocket functionality with support for token-based authentication via query parameters or subprotocols. It includes methods for creating WebSocket connections and a factory function to instantiate the client.", "external_files": ["./config"], "external_methods": ["getWsBaseUrl", "makeUrl", "getLogLevel"], "published": ["WebSocketClient", "createWsClient"], "classes": [{"name": "WebSocketClient", "description": "A wrapper around the native WebSocket providing easy connection setup with optional token authentication support."}], "methods": [{"name": "constructor({ getToken, authMode = 'query', baseUrlOverride } = {})", "description": "Initializes the WebSocketClient with options for token retrieval, authentication mode, and URL override.", "scope": "WebSocketClient", "scopeKind": "class"}, {"name": "_log(...args)", "description": "Logs messages to console if log level is set to 'debug'.", "scope": "WebSocketClient", "scopeKind": "class"}, {"name": "connect(path, protocols)", "description": "Creates and returns a WebSocket connection to the specified URL or path, handling token inclusion based on configuration.", "scope": "WebSocketClient", "scopeKind": "class"}, {"name": "createWsClient(getToken, authMode = 'query')", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["getWsBaseUrl", "makeUrl", "getLogLevel", "WebSocket"], "search-terms": ["WebSocketClient", "ws connection with token", "WebSocket wrapper", "authMode", "createWsClient"], "state": 2, "file_id": 26, "knowledge_revision": 58, "git_revision": "", "ctags": [{"_type": "tag", "name": "WebSocketClient", "path": "/home/kavia/workspace/code-generation/music-streamer-199976-200027/frontend_react/src/lib/wsClient.js", "pattern": "/^export class WebSocketClient {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "_log", "path": "/home/kavia/workspace/code-generation/music-streamer-199976-200027/frontend_react/src/lib/wsClient.js", "pattern": "/^  _log(...args) {$/", "language": "JavaScript", "kind": "method", "signature": "(...args)", "scope": "WebSocketClient", "scopeKind": "class"}, {"_type": "tag", "name": "connect", "path": "/home/kavia/workspace/code-generation/music-streamer-199976-200027/frontend_react/src/lib/wsClient.js", "pattern": "/^  connect(path, protocols) {$/", "language": "JavaScript", "kind": "method", "signature": "(path, protocols)", "scope": "WebSocketClient", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/music-streamer-199976-200027/frontend_react/src/lib/wsClient.js", "pattern": "/^  constructor({ getToken, authMode = 'query', baseUrlOverride } = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "({ getToken, authMode = 'query', baseUrlOverride } = {})", "scope": "WebSocketClient", "scopeKind": "class"}, {"_type": "tag", "name": "createWsClient", "path": "/home/kavia/workspace/code-generation/music-streamer-199976-200027/frontend_react/src/lib/wsClient.js", "pattern": "/^export function createWsClient(getToken, authMode = 'query') {$/", "language": "JavaScript", "kind": "function", "signature": "(getToken, authMode = 'query')"}], "hash": "9a6579df06f5174506a30abcb55c483b", "format-version": 4, "code-base-name": "frontend_react", "filename": "frontend_react/src/lib/wsClient.js", "revision_history": [{"58": ""}]}